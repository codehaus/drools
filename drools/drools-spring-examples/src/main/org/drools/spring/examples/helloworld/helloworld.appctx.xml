<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<bean id="ruleFactoryBean" abstract="true"
		class="org.drools.spring.factory.BeanRuleMetadataRuleFactoryBean">
		<property name="methodMetadataSourceChain">
			<list>
				<bean class="org.drools.spring.metadata.annotation.java.AnnotationMethodMetadataSource"/>
			</list>
		</property>
		<property name="argumentMetadataSourceChain">
			<list>
				<bean class="org.drools.spring.metadata.annotation.java.AnnotationArgumentMetadataSource"/>
				<bean class="org.drools.spring.metadata.ParameterInferedTypeArgumentMetadataSource"/>
			</list>
		</property>
	</bean>

	<!-- Inner Class Rules -->

    <bean id="innerPojosRuleSet" lazy-init="true" class="org.drools.spring.factory.RuleSetFactoryBean">
        <property name="rules">
            <set>
			    <bean id="inner.Hello" parent="ruleFactoryBean">
			        <property name="pojo">
			            <bean class="org.drools.spring.examples.helloworld.HelloWorldRules$Hello" />
			        </property>
			    </bean>
			    <bean id="inner.Goodbye" parent="ruleFactoryBean">
			        <property name="pojo">
			            <bean class="org.drools.spring.examples.helloworld.HelloWorldRules$Goodbye" />
			        </property>
			    </bean>
			    <bean id="inner.Debug" parent="ruleFactoryBean">
			        <property name="pojo">
			            <bean class="org.drools.spring.examples.helloworld.HelloWorldRules$Debug" />
			        </property>
			    </bean>
            </set>
        </property>
    </bean>

	<!-- Outer Class Rules -->

    <bean id="messagePrinter"
        class="org.drools.spring.examples.helloworld.MessagePrinter" />

    <bean id="messagePrintingBean" abstract="true">
        <property name="messagePrinter">
            <ref local="messagePrinter" />
        </property>
    </bean>

    <bean id="outerPojosRuleSet" lazy-init="true" class="org.drools.spring.factory.RuleSetFactoryBean">
        <property name="rules">
            <set>
                <bean id="outer.Hello" parent="ruleFactoryBean">
                    <property name="pojo">
                        <bean parent="messagePrintingBean"
                            class="org.drools.spring.examples.helloworld.HelloRule" />
                    </property>
                </bean>
                <bean id="outer.Goodbye" parent="ruleFactoryBean">
                    <property name="pojo">
                        <bean parent="messagePrintingBean"
                            class="org.drools.spring.examples.helloworld.GoodbyeRule" />
                    </property>
                </bean>
                <bean id="outer.Debug" parent="ruleFactoryBean">
                    <property name="pojo">
                        <bean
                            class="org.drools.spring.examples.helloworld.DebugRule" />
                    </property>
                </bean>
            </set>
        </property>
    </bean>

</beans>