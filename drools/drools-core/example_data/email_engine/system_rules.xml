<?xml version="1.0"?>
<!--
     File:       system_rules.xml
     Purpose:    System Rules for Processing Email Events
     Author:     Martin Hald <martin.hald@bigfoot.com>
     Created:    3/19/2002
     Desc:       The set of rules to process email events.  Only system
                 level rules are included herein, for an example of the
                 user level rules please see conf_user.xml.
     Tested:     Drools 2.0 Beta
-->
<ruleset name="System Rules">
	<import>emailEngine.OutboundEmail</import>
	<rule name="SendEmail">
      <!-- Only look outbound emails -->
		<param type="emailEngine.OutboundEmail">email</param>
		<when>
         <!-- And only those outbound emails that have no active filters.
              The filter system is simply way rules can tag an item so that
              other rules will fire.  The system will only send emails that
              have no active filters. -->
			<cond>
            email.hasNoFilters()==true
			</cond>
		</when>
      <!-- Finally, when the rule is fired send the email! -->
		<then>
			System.out.println("      [Sysrule_SendEmail] --> Sending email");
		</then>
	</rule>
</ruleset>
