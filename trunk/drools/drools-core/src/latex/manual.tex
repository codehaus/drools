
\documentclass[10pt,oneside,letterpaper,colorhighlight]{book}


\def\pdfBorderAttrs{/Border [0 0 0] } % No border around Links
%\usepackage{thumbpdf}
%\pdfcompresslevel=9



\usepackage{alltt}
\usepackage{cite}
\usepackage{plain}
\usepackage{hyperref}
\usepackage{varioref}
\usepackage{array}
\usepackage{xypic}
\usepackage{color}
\usepackage{sectsty}
\usepackage{fancyhdr}
\usepackage{graphics}
\usepackage{fancyvrb}
\usepackage{listings}
\usepackage{makeidx}
\usepackage[nottoc]{tocbibind}

\usepackage [dvips] {graphicx}
\usepackage{wrapfig}


\hypersetup{
    backref,  
	colorlinks,
    pdftitle={Drools Usage Manual},
    pdfsubject={Drools Usage Manual},
    pdfkeywords={Drools, Rules, Rete, Java},
    pdfauthor={The Drools Project}} 
\makeindex

\fancypagestyle{plain}{
    \fancyhf{}
    \fancyfoot[C]{\usefont{OT1}{phv}{b}{n}\selectfont \thepage }
    \renewcommand{\footrulewidth}{0pt}
    \renewcommand{\headrulewidth}{0pt}
}

\pagestyle{fancy}

\fancyhf{}
\fancyhead[L]{ \usefont{OT1}{phv}{b}{n}\selectfont \small \leftmark}
\fancyhead[R]{ \usefont{OT1}{phv}{b}{n}\selectfont \small \rightmark }
\fancyfoot[C]{\usefont{OT1}{phv}{b}{n}\selectfont \thepage }
\renewcommand{\footrulewidth}{0pt}
\renewcommand{\headrulewidth}{0.5pt}

\renewcommand{\chaptermark}[1]{%
	\markboth{#1}{}}

\renewcommand{\sectionmark}[1]{%
	\markright{#1\ : \thesection}}

\allsectionsfont{\usefont{OT1}{phv}{b}{n}\selectfont}

%%%%%%
%%%%%%

%\renewcommand{\theFancyVerbLine}{\small\textbf{\arabic{FancyVerbLine}}}
\newenvironment{basenote}[1]
        {
                \begin{flushright}
                \vline \hspace{1em}
                \begin{minipage}{0.7\linewidth}
                \hspace{-1em}\textsf{\textbf{#1}}\\  
                \rule{0em}{1.4em}
                \sl
        } {
                \end{minipage}
                \end{flushright}
        }

\newenvironment{note}
        {
                \begin{basenote}{Note}
        } {
                \end{basenote}
        }

\newenvironment{ednote}
        {
                \begin{basenote}{Editor's Note}
        } {
                \end{basenote}
        }

\newenvironment{implnote}
        {
                \begin{basenote}{Implementor's Note}
        } {
                \end{basenote}
        }


\DefineVerbatimEnvironment%
  {javaCodelisting}{Verbatim}
  {frame=single, 
   framesep=5pt, 
   rulecolor=\color{light}, 
   numbers=left, 
   numbersep=5pt,
   fontsize=\footnotesize,
   commandchars=\\\{\}}

\DefineVerbatimEnvironment%
  {xmlCodelisting}{Verbatim}
  {frame=single, 
   framesep=5pt, 
   rulecolor=\color{light}, 
   numbers=left, 
   numbersep=5pt,
   fontsize=\footnotesize,
   commandchars=\\\{\}}

\DefineVerbatimEnvironment%
  {tagExample}{Verbatim}
  {frame=single, 
   framesep=5pt, 
   formatcom=\color{light},
   rulecolor=\color{light},
   commandchars=\\\{\}}

%\lstnewenvironment{xmlCodelisting}%
  %{\lstset{labelstep=1, language=HTML, frame=single, basicstyle=\footnotesize}}
  %{}

%\lstnewenvironment{simpleXmlCodelisting}%
  %{\lstset{labelstep=0, language=HTML, basicstyle=\small}}
  %{}
%
%\lstnewenvironment{javaCodelisting}%
  %{\lstset{labelstep=1, language=Java, frame=single, basicstyle=\footnotesize}}
  %{}


\definecolor{light}{rgb}{0.5,0.5,0.5}

\newenvironment{tagDesc}[1]%
        {
                \begin{center}
                \begin{tabular}{p{0.28\textwidth}cp{0.6\linewidth}}
                \hline 
                \multicolumn{3}{r}{\texttt{<#1>}\hspace{1em}\rule[-0.6em]{0em}{1.7em}}\\
        } {
                \end{tabular}
                \end{center}
        }

\newcommand{\attr}[2] { \texttt{#1} & \vline & {\small#2} \\ \hline }
\newcommand{\childTag}[2] { \texttt{<#1>} & \vline & {\small#2} \\ \hline }
\newcommand{\abstractChildTag}[2] { \textit{\texttt{<ns:#1>}} & \vline & {\small#2} \\ \hline }

\newcommand{\attrs}{
        \hline 
        \textbf{\textsf{Attribute}} & \vline & \textbf{\textsf{Description}}\\ 
        \hline 
}

\newcommand{\noattrs}{
        \multicolumn{3}{c}{\emph{No attributes}}\\
        \hline
}

\newcommand{\tags}{ 
        \\
        \hline
        \textbf{\textsf{Tag}} & \vline & \textbf{\textsf{Description}}\\ 
        \hline 
}


\let\footnoterule\hrule

\newcommand{\indexClass}[1]{\texttt{#1}\index{#1@\texttt{#1} class}}
\newcommand{\class}[1]{\texttt{#1}}

\newcommand{\indexTag}[1]{\texttt{<#1>}\index{#1@\texttt{<#1>} tag}}
\newcommand{\tag}[1]{\texttt{#1}}

\newcommand{\indexMethod}[2]{\texttt{#2}\index{#1@\texttt{#1} class!#2@\texttt{#2}}}

\makeatletter
\renewcommand{\@makefntext}[1]%
	{\noindent\makebox[1.8em][r]{\@makefnmark}#1}
\makeatother


\newcommand{\lstLine}[3]{%
        \noindent\rule[-1ex]{\columnwidth}{0.8mm}%
        \lstinputlisting[#3,caption={#2},lineskip=-1pt,extendedchars=true,basicstyle=\tt\tiny,language=Java,breaklines]{#1}\vspace{1ex}%
        \noindent\rule[-1ex]{\columnwidth}{0.8mm}%
}
\newcommand{\lst}[2]{%
        \noindent\rule[-1ex]{\columnwidth}{0.8mm}%
        \lstinputlisting[caption={#2},lineskip=-1pt,extendedchars=true,basicstyle=\tt\tiny,language=Java,breaklines]{#1}\vspace{1ex}%
        \noindent\rule[-1ex]{\columnwidth}{0.8mm}\vspace{-1ex}%
}


\begin{document}

\frontmatter

\begin{titlepage} 
\usefont{OT1}{phv}{b}{n}\selectfont
\rule{0pt}{3in}


\noindent
{\Huge Drools Usage Manual}\\
\rule{\textwidth}{1pt}

\vspace{8pt}
\noindent
\usefont{OT1}{phv}{m}{n}\selectfont
{\large version \Large2.0-beta-12}\\
{\small{\color{light}{generated \today}}}

\vspace{2in}
\begin{flushright}
\usefont{OT1}{phv}{b}{n}\selectfont
\noindent
{\Large The Drools Project}\\
\rule{2in}{0.5pt}

\vspace{6pt}
{\Large drools.org}
\end{flushright}
\end{titlepage} 

{

\renewcommand{\chaptername}{}
\renewcommand{\thechapter}{}
\renewcommand{\thesection}{}
\renewcommand{\thepage}{\roman{page}}

\include{preface}
\tableofcontents
\listoffigures

\include{acknowledgements}
\include{about}
\include{authors}
}


\mainmatter
%\setcounter{chapter}{0}
%\setcounter{page}{1}

\fancypagestyle{plain}{
    \fancyhf{}
    \fancyfoot[C]{\usefont{OT1}{phv}{b}{n}\selectfont \thepage }
    \renewcommand{\footrulewidth}{0pt}
    \renewcommand{\headrulewidth}{0pt}
}
\pagestyle{fancy}



\part{Drools}

%\include{introduction}

\include{functional_overview}
\include{drl}
\include{client}
\include{admin}
\include{conflict}
\include{jsr94}

\part{Semantic Modules}
\include{java}
\include{python}
\include{xml}
\include{dispatcher}

\part{Drools Internals}

\include{architecture}
\include{smf}
\include{rule_assembly}

\part{Examples}
\include{examples}

\part{Appendices}
\appendix
\include{algo}

\include{faq}
\include{project-info}
\include{license}

\backmatter

\bibliography{manual}
\bibliographystyle{acm}

{\footnotesize
\pagestyle{plain}
\printindex
}

%\include{colophon}

\end{document}
