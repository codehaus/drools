<?xml version="1.0" encoding="UTF-8"?>

<!-- ******************************************************************************
*
*  Drools JSR94 Rules Enginge Service
*
*  $Id: drools-jsr94-service.xml,v 1.1 2003-03-22 22:07:00 tdiesler Exp $
*
****************************************************************************** -->

<server>

   <mbean code="org.jboss.resource.connectionmanager.NoTxConnectionManager"
      name="jboss.jca:service=NoTxCM,name=drools">

      <depends>jboss.jca:service=RARDeployer</depends>

      <depends optional-attribute-name="ManagedConnectionFactoryName">
         <mbean code="org.jboss.resource.connectionmanager.RARDeployment"
            name="jboss.jca:service=NoTxFS,name=drools">
            <depends optional-attribute-name="OldRarDeployment">
               jboss.jca:service=RARDeployment,name=Drools Rule Engine Adaptor
            </depends>
            <attribute name="JndiName">jsr94/drools</attribute>
         </mbean>
      </depends>

      <depends optional-attribute-name="ManagedConnectionPool">
         <mbean code="org.jboss.resource.connectionmanager.JBossManagedConnectionPool"
            name="jboss.jca:service=NoTxPool,name=drools">
            <attribute name="MinSize">0</attribute>
            <attribute name="MaxSize">50</attribute>
            <attribute name="BlockingTimeoutMillis">5000</attribute>
            <attribute name="IdleTimeoutMinutes">15</attribute>
            <attribute name="Criteria">ByContainer</attribute>
         </mbean>
      </depends>

      <depends optional-attribute-name="CachedConnectionManager">
         jboss.jca:service=CachedConnectionManager
      </depends>

      <!-- uncomment to enable authentication via JAAS
      <depends optional-attribute-name="JaasSecurityManagerService">
         jboss.security:service=JaasSecurityManager
      </depends>
      -->

   </mbean>
</server>
